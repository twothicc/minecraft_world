{
  "format_version": "1.10.0",
  "minecraft:entity": {
    "description": {
      "identifier": "rhex:mutant_vex",
      "is_spawnable": true,
      "is_summonable": true,
      "is_experimental": false,
      "runtime_identifier": "minecraft:vex",
      "scripts": {
        "animate": [
        "dead",
          { "attack": "query.is_delayed_attacking" },
"charge",
"remove_charge"      
        ]
      },
      "animations": {
      "dead": "controller.animation.mdead",
        "attack": "animation.mzsmash",
"charge": "controller.animation.mvex_charge",
"remove_charge": "controller.animation.removemvex_charge"        
      }
    },
    "component_groups": {
    "charge":{
    "minecraft:area_attack" : {
          "damage_range": 2.75,
          "damage_per_tick": 5.5,
          "cause": "contact",
          "entity_filter": {
            "all_of": [
		    { "test": "is_family", "subject": "other", "operator": "!=", "value": "rhexvex" }
		  ]
        }
      }
    },
    "smash":{
          "minecraft:spawn_entity": [
	    {
		  "min_wait_time": 0,
		  "max_wait_time": 0,
		  "num_to_spawn": 1,
		  "single_use": true,
		  "spawn_entity": "rhex:mvexsmash"
		}
	  ]
	},
    "dead": {
      "minecraft:scale": {
        "value": 0.0
      },
"minecraft:transformation": {
          "into": "rhex:vex_dead",
          "delay": 0
        }
        },
    "range_attack":{
    "minecraft:timer": {
          "looping": false,
          "time": 10,
          "time_down_event": {
            "event": "attack"
          }
        },
    "minecraft:shooter": {
          "def": "rhex:vex_head"
          },
          "minecraft:behavior.ranged_attack": {
			"priority": 2,
	        "attack_interval_min": 1.0,
			"attack_interval_max": 1.0,
			"attack_radius": 70,
			"burst_shots": 4,
			"burst_interval": 0.25  		
        }
      },
    "attack":{
    "minecraft:timer": {
          "looping": false,
          "time": 15,
          "time_down_event": {
            "event": "attack"
          }
        },
    "minecraft:behavior.charge_attack": {
        "priority": 2,
        "speed_multiplier": 3.0
      },
      "minecraft:behavior.delayed_attack": {
          "priority": 3,
          "reach_multiplier": 3,
          "attack_duration": 1.56,
          "hit_delay_pct": 0.7,
          "track_target": true,
          "sound_event": "attack.strong"
        }
      }
    },
    "components": {
      "minecraft:nameable": {
      },
      "minecraft:behavior.melee_attack": {
        "priority": 4,
        "speed_multiplier": 1.25,
        "track_target": false
      },
      "minecraft:type_family": {
        "family": [ "rhexvex", "vex", "monster", "mutant" ]
      },
      "minecraft:damage_sensor": {
        "triggers": [
          {
        "cause": "fall",
          "deals_damage": false
        },
        {
        "on_damage": {
            "filters": {
              "test": "is_family",
              "subject": "other",
              "value": "rhexvex"
            }
          },
          "deals_damage": false
         }
        ]
      },
      "minecraft:on_target_escape": {
        "event": "remove_attack",
        "target": "self"
      },
      "minecraft:on_target_acquired": {
        "event": "attack",
        "target": "self"
      },
      "minecraft:health": {
        "value": 130,
        "max": 130
      },
      "minecraft:attack": {
        "damage": 16
      },
      "minecraft:collision_box": {
        "width": 1.2,
        "height": 2.9
      },
      "minecraft:movement": {
        "value": 4.0
      },
      
      "minecraft:navigation.walk": {
        "can_path_over_water": true
      },
      "minecraft:movement.basic": {

      },
      "minecraft:jump.static": {
      },
      "minecraft:can_climb": {
      },
      "minecraft:fire_immune": true,
      "minecraft:behavior.float": {
        "priority": 0
      }, 
      "minecraft:knockback_resistance": {
        "value": 1.0
      },
      "minecraft:boss": {
        "name":"§4§LMUTANT VEX",
        "should_darken_sky": false,
        "hud_range": 14
      },
      "minecraft:break_blocks": {
        "breakable_blocks": [

          "bamboo_sapling",
          "beetroot",
          "brown_mushroom",
          "carrots",
          "carved_pumpkin",
          "chorus_flower",
          "chorus_plant",
          "lit_pumpkin",
          "melon_stem",
          "potatoes",
          "pumpkin",
          "pumpkin_stem",
          "red_flower",
          "red_mushroom",
          "reeds",
          "sapling",
          "sweet_berry_bush",
          "vine",
          "waterlily",
          "yellow_flower",
          "bamboo",
          "wheat",
          "oak_stairs",
          "spruce_stairs",
          "dark_oak_stairs",
          "birch_stairs",
          "acacia_stairs",
          "carved_pumpkin",
          "leaves",
          "leaves2",
          "lit_pumpkin",
          "melon_block",
          "spruce_door",
          "oak_door",
          "birch_door",
          "acacia_door",
          "ice",
          "dark_oak_door",
          "turtle_egg",
          "wood_planks",
          "fence",
          "redstone_wire",
          "glass",
          "glass_pane",
          "slab",
          "wool",
          "bed",
          "planks",
          "ladder",
          "scaffolding",
          "trapdoor",
          "acacia_trapdoor",
          "planks_jungle",
          "cactus"
        ]
      },
      "minecraft:fall_damage": {
        "value": 0.0
      },
      "minecraft:behavior.nearest_attackable_target": {
        "priority": 2,
        "entity_types": [
          {
            "filters": {
              "any_of" : [
                {"test" : "is_family", "subject" : "other", "value" :  "player"},
                { "test" :  "has_tag", "subject" : "other", "value" :  "target"},
                {"test" : "is_family", "subject" : "other", "value" :  "irongolem"},
                {"test" : "is_family", "subject" : "other", "value" :  "snowgolem"}
              ]
            },
            "max_dist": 70
          },
          {
            "filters": {
              "all_of": [
                { "test": "is_family", "subject": "other", "value": "villager" },
                { "test": "has_component", "subject": "other", "operator": "!=", "value": "minecraft:is_baby" }
              ]
            },
            "max_dist": 70
          }
        ],
        "must_see": true
      },
      "minecraft:follow_range": {
        "value": 64,
        "max": 64
      },
      
      "minecraft:spell_effects": {
        "add_effects": [
          {
            "effect": "resistance",
            "amplifier": 1,
            "visible": false,
            "ambient": false,
            "duration": 999999
            },
            {
            "effect": "regeneration",
            "amplifier": 1,
            "visible": false,
            "ambient": false,
            "duration": 999999
          }
        ]
      },
      "minecraft:behavior.look_at_player": {
        "priority": 9,
        "look_distance": 6.0,
        "probability": 0.02
      },
      "minecraft:behavior.look_at_entity": {
        "priority": 9,
        "look_distance": 6.0,
        "probability": 0.02,
        "filters": { "test" :  "is_family", "subject" : "other", "value" :  "mob"}
      },
      "minecraft:behavior.hurt_by_target": {
        "priority": 1,
        "entity_types": {
          "filters": { "test": "is_family", "subject": "other", "operator": "!=", "value": "rhexevocation_illager" }
        }
      },
      "minecraft:pushable": {
        "is_pushable": true,
        "is_pushable_by_piston": true
      },
      "minecraft:physics": {
        "has_gravity": false
      }
    },
    "events": {
    "dead": {
        "add": {
          "component_groups": [
            "dead"
          ]
        }
      },
      "smash": {
        "add": {
          "component_groups": [
            "smash"
          ]
        }
      },
      "charge": {
        "add": {
          "component_groups": [
            "charge"
          ]
        }
      },
      "remove_charge": {
        "remove": {
          "component_groups": [
            "charge"
          ]
        }
      },
    "attack": {
      "randomize": [
          {
            "weight": 17,
        "remove": {
          "component_groups": [
            "attack"
          ]
        },
        "add": {
          "component_groups": [
          "range_attack"
          ]
        }
      },
      {
      "weight": 20,
        "remove": {
          "component_groups": [
            "range_attack"
          ]
        },
        "add": {
          "component_groups": [
            "attack"
          ]
        }
      }
    ]
  },
  "remove_attack": {
    "remove": {
     "component_groups": [
      "attack",
      "range_attack"
     ]
    }
   }
  }
 }
}
